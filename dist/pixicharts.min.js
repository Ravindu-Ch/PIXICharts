/*! pixicharts.min.js 26-09-2015 */

window.PIXICharts||(window.PIXICharts={}),function(a,b){a.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=b[c]);return a},a.colors=function(){var a=[13790467,6998033,7442086,5111958,5561088,7842629,14739999,12063866,818,8934718],b=-1;return function(){return b>=a.length-1?b=0:b++,a[b]}}}(PIXICharts,PIXI),function(a,b){var c=function(c){b.Container.call(this),this.config=a.extend(c||{},{width:340,height:200,autoRedraw:!1,showLabels:!0,showValues:!0,backgroundColor:null,offset:10,chartTitle:null,font:"Arial",valueFormat:function(a){return a}}),this.labels={},this.colors={},this.data={},this.getColor=a.colors(),this.background=this.addChild(new b.Graphics),this.setBackgroundColor(this.config.backgroundColor),this.chartContainer=this.addChild(new b.Container),this.chart=this.chartContainer.addChild(new b.Graphics)};c.prototype=Object.create(b.Container.prototype),a.extend(c.prototype,{_drawSector:function(a,b,c){var d=Object.keys(this.data).length,e=(this.config.width-(d-1)*this.config.offset)/d,f=this.config.height*(this.data[c]/b),g=this.config.height-f;return this.chart.beginFill(this.colors[c]).drawRect(a,g,e,f).endFill(),this._drawValue(c,{x:a+e/2,y:g+f/2}),a+e+this.config.offset},_drawValue:function(a,b){!this.config.showValues&&!this.config.showLabels},setBackgroundColor:function(a){return this.background.clear(),a?(this.background.beginFill(a).drawRect(0,0,this.config.width,this.config.height).endFill(),this):this},setColor:function(a,b){return this.colors[a]=b,this.config.autoRedraw&&this.redraw(),this},setLabel:function(a,b){return this.labels[a]=b,this.config.autoRedraw&&this.redraw(),this},setData:function(a,b){return this.data[a]=b,this.labels[a]||this.setLabel(a,a),this.config.autoRedraw&&this.redraw(),this},redraw:function(){var a=0,b=0;for(var c in this.data)this.data.hasOwnProperty(c)&&this.data[c]>b&&(b=this.data[c]);for(var c in this.data)this.data.hasOwnProperty(c)&&(this.colors[c]||this.setColor(c,this.getColor()),a=this._drawSector(a,b,c))}}),a.Bar=c}(PIXICharts,PIXI),function(a,b){var c=function(c){b.Container.call(this),this.config=a.extend(c||{},{width:340,height:200,autoRedraw:!1,showLabels:!1,showValues:!0,legend:!0,firstSectorAngle:0,backgroundColor:null,legendPosition:"right",offset:10,chartTitle:null,legendTitle:"Legend:",legendBackgroundColor:11184810,font:"Arial",valueFormat:function(a){return a},legendWidth:40}),this.labels={},this.colors={},this.data={},this.config.legend?this.legendSize={width:this.config.width*(this.config.legendWidth/100),height:this.config.height}:this.legendSize={width:0,height:0},this.config.radius||(this.config.radius=Math.min(this.config.width-this.legendSize.width,this.config.height)/2-this.config.offset),this.config.position||(this.config.position={x:(this.config.width-this.legendSize.width)/2,y:this.config.height/2}),this.getColor=a.colors(),this.background=this.addChild(new b.Graphics),this.setBackgroundColor(this.config.backgroundColor),this.chartContainer=this.addChild(new b.Container),this.chart=this.chartContainer.addChild(new b.Graphics),this.tempChildren=[],this.config.legend&&(this.legend=this.addChild(new b.Container),this.config.legendBackgroundColor&&this.legend.addChild((new b.Graphics).beginFill(this.config.legendBackgroundColor).drawRect(0,0,this.legendSize.width,this.legendSize.height).endFill()),"left"==this.config.legendPosition?(this.legend.position.set(0,0),this.chartContainer.position.set(this.legendSize.width,0)):(this.legend.position.set(this.config.width-this.legendSize.width,0),this.chartContainer.position.set(0,0)))};c.prototype=Object.create(b.Container.prototype),a.extend(c.prototype,{_angle:function(a){return(a-90)*b.DEG_TO_RAD},_drawSector:function(a,b,c){var d=360*(b/100)+a,e={x:this.config.position.x,y:this.config.position.y},f=this.config.radius,g={},h=(d-a)/2+a,i=f/2;g.x=e.x+i*Math.cos(this._angle(h)),g.y=e.y+i*Math.sin(this._angle(h)),a=this._angle(a);var j={x:e.x+f*Math.cos(a),y:e.y+f*Math.sin(a)};return this.chart.beginFill(this.colors[c],1).moveTo(e.x,e.y).lineTo(j.x,j.y).arc(e.x,e.y,f,a,this._angle(d),!1).lineTo(e.x,e.y).endFill(),this._drawValue(c,g),d},_drawValue:function(a,c){if(this.config.showValues||this.config.showLabels){var d=[];this.config.showLabels&&d.push(this.labels[a]?this.labels[a]:a),this.config.showValues&&d.push(this.config.valueFormat(this.data[a]));var e=new b.Text(d.join(" "),{font:"12px "+this.config.font,fill:16777215}),f=5,g=(new b.Graphics).beginFill(0,.5).drawRoundedRect(0,0,e.width+2*f,e.height+2*f,5).endFill();this.tempChildren.push(this.chartContainer.addChild(g)),this.tempChildren.push(this.chartContainer.addChild(e)),c.x=Math.round(c.x),c.y=Math.round(c.y),e.anchor.set(.5,.5),g.position.set(c.x-e.width/2-f,c.y-e.height/2-f),e.position.set(c.x,c.y)}},_drawLegend:function(){if(this.config.legend){var a=this.legend.addChild(new b.Text(this.config.legendTitle,{font:"18px Arial"}));this.tempChildren.push(a),a.anchor.set(.5,0),a.x=this.config.width*(this.config.legendWidth/100)/2,a.y=this.config.offset;var c,d,e=a.height+this.config.offset+20,d=new b.Text("",{font:"12px "+this.config.font});for(var f in this.labels)this.data.hasOwnProperty(f)&&(c=(new b.Graphics).beginFill(16777215).drawCircle(0,0,9).endFill().beginFill(this.colors[f]).drawCircle(0,0,8).endFill(),d=new b.Text(this.labels[f]||f,{font:"12px "+this.config.font}),this.tempChildren.push(c),this.tempChildren.push(d),c.x=this.config.offset+9,c.y=e,d.anchor.set(0,.5),d.x=this.config.offset+25,d.y=e,e+=25,this.legend.addChild(c),this.legend.addChild(d))}},setBackgroundColor:function(a){return this.background.clear(),a?(this.background.beginFill(a).drawRect(0,0,this.config.width,this.config.height).endFill(),this):this},setColor:function(a,b){return this.colors[a]=b,this.config.autoRedraw&&this.redraw(),this},setLabel:function(a,b){return this.labels[a]=b,this.config.autoRedraw&&this.redraw(),this},setData:function(a,b){return this.data[a]=b,this.labels[a]||this.setLabel(a,a),this.config.autoRedraw&&this.redraw(),this},clear:function(){this.tempChildren.forEach(function(a){a.parent&&a.parent.removeChild(a)}),this.tempChildren=[],this.chart.clear()},redraw:function(){this.clear();var a=0,b=this.config.firstSectorAngle;for(var c in this.data)this.data.hasOwnProperty(c)&&(a+=this.data[c]);for(var c in this.data)this.data.hasOwnProperty(c)&&(this.colors[c]||this.setColor(c,this.getColor()),b=this._drawSector(b,this.data[c]/a*100,c));this._drawLegend()}}),a.Pie=c}(PIXICharts,PIXI);
//# sourceMappingURL=pixicharts.min.js.map