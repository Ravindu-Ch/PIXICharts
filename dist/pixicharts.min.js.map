{"version":3,"file":"pixicharts.min.js","sources":["../src/Utils.js","../src/BarChart.js","../src/PieChart.js"],"names":["window","PIXICharts","charts","PIXI","extend","obj1","obj2","key","hasOwnProperty","colors","_colors","_current","length","BarChart","config","Container","call","this","width","height","autoRedraw","showLabels","showValues","legend","firstSectorAngle","backgroundColor","legendPosition","offset","chartTitle","legendTitle","legendBackgroundColor","font","valueFormat","val","legendWidth","labels","data","legendSize","radius","Math","min","position","x","y","getColor","background","addChild","Graphics","setBackgroundColor","chartContainer","chart","beginFill","drawRect","endFill","set","prototype","Object","create","_angle","angle","DEG_TO_RAD","_drawSector","startAngle","percent","endAngle","center","labelPosition","middleAngle","middleRadius","cos","sin","pointA","moveTo","lineTo","arc","_drawValue","textParts","push","text","Text","join","anchor","round","_drawLegend","title","legendCircle","legendLabel","nextY","drawCircle","color","clear","setColor","redraw","setLabel","label","setData","value","total","nextSectorStartAngle","Bar","PieChart","tempChildren","fill","bgPadding","drawRoundedRect","forEach","child","parent","removeChild","Pie"],"mappings":"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","sourcesContent":["// define global PIXICharts object\r\nif ( !window.PIXICharts ) window.PIXICharts = {};\r\n\r\n(function( charts, PIXI ) {\r\n\tcharts.extend = function( obj1, obj2 ) {\r\n\t\tfor (var key in obj2) {\r\n\t\t\tif (obj2.hasOwnProperty(key) && !obj1.hasOwnProperty(key)) {\r\n\t\t\t\tobj1[key] = obj2[key];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj1;\r\n\t};\r\n\r\n\tcharts.colors = function() {\r\n\t\tvar _colors = [0xD26D03, 0x6AC811, 0x718EA6, 0x4E0096, 0x54DB00, 0x77AB45, 0xE0EA1F, 0xB8147A, 0x000332, 0x88553E];\r\n\t\tvar _current = -1;\r\n\t\treturn function() {\r\n\t\t\tif (_current >= _colors.length - 1) {\r\n\t\t\t\t_current = 0;\r\n\t\t\t} else {\r\n\t\t\t\t_current++;\r\n\t\t\t}\r\n\t\t\treturn _colors[_current];\r\n\t\t};\r\n\t};\r\n})( PIXICharts, PIXI );","(function( charts, PIXI ) {\n\tvar BarChart = function( config ) {\n\t\tPIXI.Container.call(this);\n\n\t\t// extend the config with default options\n\t\tthis.config = charts.extend(config || {}, {\n\t\t\twidth: 340,\n\t\t\theight: 200,\n\t\t\tautoRedraw: false,\n\t\t\tshowLabels: true,\n\t\t\tshowValues: true,\n\t\t\tlegend: true,\n\t\t\tfirstSectorAngle: 0,\n\t\t\tbackgroundColor: null,\n\t\t\tlegendPosition: 'right',\n\t\t\toffset: 10,\n\t\t\tchartTitle: null,\n\t\t\tlegendTitle: 'Legend:',\n\t\t\tlegendBackgroundColor: 0xAAAAAA,\n\t\t\tfont: 'Arial',\n\t\t\tvalueFormat: function(val) { return val; },\n\t\t\tlegendWidth: 40 // percents\n\t\t});\n\n\t\tthis.labels = {};\n\t\tthis.colors = {};\n\t\tthis.data = {};\n\n\t\t// calculate legend size\n\t\tif ( this.config.legend ) {\n\t\t\tthis.legendSize = {\n\t\t\t\twidth: this.config.width * (this.config.legendWidth / 100),\n\t\t\t\theight: this.config.height\n\t\t\t};\n\t\t} else { // if there's no legend - set size to 0x0\n\t\t\tthis.legendSize = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t}\n\n\t\t// auto radius calculation\n\t\tif (!this.config.radius) {\n\t\t\tthis.config.radius = (Math.min(this.config.width - this.legendSize.width, this.config.height) / 2) - this.config.offset;\n\t\t}\n\n\t\t// auto chart position\n\t\tif (!this.config.position) {\n\t\t\tthis.config.position = {\n\t\t\t\tx: (this.config.width - this.legendSize.width) / 2,\n\t\t\t\ty: this.config.height / 2\n\t\t\t};\n\t\t}\n\n\t\t// getColor util\n\t\tthis.getColor = charts.colors();\n\n\t\t// background element\n\t\tthis.background = this.addChild( new PIXI.Graphics() );\n\t\tthis.setBackgroundColor( this.config.backgroundColor );\n\n\t\t// chreate chart container\n\t\tthis.chartContainer = this.addChild(new PIXI.Container());\n\t\tthis.chart = this.chartContainer.addChild(new PIXI.Graphics);\n\n\t\tif ( this.config.legend ) {\n\t\t\t// create legend container\n\t\t\tthis.legend = this.addChild( new PIXI.Container() );\n\n\t\t\t// set legend background\n\t\t\tif (this.config.legendBackgroundColor) {\n\t\t\t\tthis.legend.addChild(\n\t\t\t\t\tnew PIXI.Graphics()\n\t\t\t\t\t\t.beginFill(this.config.legendBackgroundColor)\n\t\t\t\t\t\t.drawRect(0, 0, this.legendSize.width, this.legendSize.height)\n\t\t\t\t\t\t.endFill()\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// reposition legend and chart\n\t\t\tif ( this.config.legendPosition == 'left' ) {\n\t\t\t\tthis.legend.position.set(0, 0);\n\t\t\t\tthis.chartContainer.position.set( this.legendSize.width, 0 );\n\t\t\t} else { // right\n\t\t\t\tthis.legend.position.set(this.config.width - this.legendSize.width, 0);\n\t\t\t\tthis.chartContainer.position.set( 0, 0 );\n\t\t\t}\n\t\t}\n\t};\n\n\tBarChart.prototype = Object.create( PIXI.Container.prototype );\n\n\tcharts.extend(BarChart.prototype, {\n\t\t_angle: function( angle ) {\n\t\t\treturn (angle - 90) * PIXI.DEG_TO_RAD;\n\t\t},\n\n\t\t_drawSector: function( startAngle, percent, key ) {\n\t\t\tvar endAngle\t= 360 * (percent / 100) + startAngle,\n\t\t\t\tcenter \t\t= {\n\t\t\t\t\tx: this.config.position.x,\n\t\t\t\t\ty: this.config.position.y\n\t\t\t\t},\n\t\t\t\tradius\t\t= this.config.radius;\n\n\t\t\tvar labelPosition = {};\n\t\t\tvar middleAngle = (endAngle - startAngle) / 2 + startAngle;\n\t\t\tvar middleRadius = radius / 2;\n\n\t\t\tlabelPosition.x = center.x + middleRadius * Math.cos( this._angle(middleAngle) );\n\t\t\tlabelPosition.y = center.y + middleRadius * Math.sin( this._angle(middleAngle) );\n\n\t\t\tstartAngle = this._angle(startAngle);\n\n\t\t\tvar pointA = {\n\t\t\t\tx: center.x + radius * Math.cos( startAngle ),\n\t\t\t\ty: center.y + radius * Math.sin( startAngle )\n\t\t\t};\n\n\t\t\tthis.chart\n\t\t\t\t\t.beginFill(this.colors[key], 1)\n\t\t\t\t\t.moveTo(center.x, center.y)\n\t\t\t\t\t.lineTo(pointA.x, pointA.y)\n\t\t\t\t\t.arc(center.x, center.y, radius, startAngle, this._angle(endAngle), false )\n\t\t\t\t\t.lineTo(center.x, center.y)\n\t\t\t\t\t.endFill();\n\n\t\t\tthis._drawValue(key, labelPosition);\n\n\t\t\treturn endAngle;\n\t\t},\n\n\t\t// draws the value (if needed) at given point\n\t\t_drawValue: function( key, position ) {\n\t\t\tif (!this.config.showValues && !this.config.showLabels) return;\n\t\t\tvar textParts = [];\n\t\t\tif (this.config.showLabels) {\n\t\t\t\ttextParts.push( this.labels[key] ? this.labels[key] : key );\n\t\t\t}\n\t\t\tif (this.config.showValues) {\n\t\t\t\ttextParts.push( this.config.valueFormat(this.data[key]) );\n\t\t\t}\n\n\t\t\tvar text = new PIXI.Text( textParts.join(' '), {\n\t\t\t\tfont: '12px ' + this.config.font\n\t\t\t});\n\n\t\t\tvar background = new PIXI.Graphics()\n\t\t\t\t\t\t\t\t\t\t.beginFill(0x000000, 0.5)\n\t\t\t\t\t\t\t\t\t\t.drawRect(0, 0, text.width + 10, text.height + 10)\n\t\t\t\t\t\t\t\t\t\t.endFill();\n\n\t\t\tthis.chartContainer.addChild(background);\n\t\t\tthis.chartContainer.addChild(text);\n\n\t\t\ttext.anchor.set(0.5, 0.5);\n\t\t\ttext.position.set(Math.round(position.x), Math.round(position.y));\n\t\t},\n\n\t\t_drawLegend: function() {\n\t\t\tif (!this.config.legend) return;\n\n\t\t\tvar title = this.legend.addChild(new PIXI.Text(this.config.legendTitle, {\n\t\t\t\tfont: '18px Arial'\n\t\t\t}));\n\n\t\t\ttitle.anchor.set(0.5, 0);\n\t\t\ttitle.x = (this.config.width * (this.config.legendWidth/100)) / 2;\n\t\t\ttitle.y = this.config.offset;\n\n\t\t\tvar nextY = title.height + this.config.offset + 20;\n\n\t\t\tvar legendCircle, legendLabel;\n\n\t\t\tvar legendLabel = new PIXI.Text('', {\n\t\t\t\tfont: '12px ' + this.config.font\n\t\t\t});\n\n\t\t\tfor (var key in this.labels) {\n\t\t\t\tif ( !this.data.hasOwnProperty(key) ) continue;\n\n\t\t\t\tlegendCircle = new PIXI.Graphics()\n\t\t\t\t\t\t\t\t\t\t\t.beginFill( 0xFFFFFF )\n\t\t\t\t\t\t\t\t\t\t\t.drawCircle(0, 0, 9)\n\t\t\t\t\t\t\t\t\t\t\t.endFill()\n\t\t\t\t\t\t\t\t\t\t\t.beginFill( this.colors[key] )\n\t\t\t\t\t\t\t\t\t\t\t.drawCircle(0, 0, 8)\n\t\t\t\t\t\t\t\t\t\t\t.endFill();\n\n\t\t\t\tlegendLabel = new PIXI.Text(this.labels[key] || key, {\n\t\t\t\t\tfont: '12px ' + this.config.font\n\t\t\t\t});\n\n\t\t\t\tlegendCircle.x = this.config.offset + 9;\n\t\t\t\tlegendCircle.y = nextY;\n\n\t\t\t\tlegendLabel.anchor.set(0, 0.5);\n\t\t\t\tlegendLabel.x = this.config.offset + 25;\n\t\t\t\tlegendLabel.y = nextY;\n\n\t\t\t\tnextY += 25;\n\n\t\t\t\tthis.legend.addChild(legendCircle);\n\t\t\t\tthis.legend.addChild(legendLabel);\n\t\t\t}\n\t\t},\n\n\t\tsetBackgroundColor: function( color ) {\n\t\t\tthis.background.clear();\n\t\t\tif (!color) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tthis.background\n\t\t\t\t\t.beginFill(color)\n\t\t\t\t\t.drawRect(0, 0, this.config.width, this.config.height)\n\t\t\t\t\t.endFill();\n\n\t\t\treturn this;\n\t\t},\n\n\t\tsetColor: function( key, color ) {\n\t\t\tthis.colors[ key ] = color;\n\t\t\tif ( this.config.autoRedraw ) {\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tsetLabel: function( key, label ) {\n\t\t\tthis.labels[ key ] = label;\n\t\t\tif ( this.config.autoRedraw ) {\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tsetData: function( key, value ) {\n\t\t\tthis.data[ key ] = value;\n\t\t\tif (!this.labels[key]) {\n\t\t\t\tthis.setLabel(key, key);\n\t\t\t}\n\t\t\tif ( this.config.autoRedraw ) {\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tredraw: function() {\n\t\t\tvar total = 0,\n\t\t\t\tnextSectorStartAngle = this.config.firstSectorAngle;\n\n\t\t\tfor (var key in this.data) {\n\t\t\t\tif ( !this.data.hasOwnProperty(key) ) continue;\n\t\t\t\ttotal += this.data[key];\n\t\t\t}\n\n\t\t\tfor (var key in this.data) {\n\t\t\t\tif ( !this.data.hasOwnProperty(key) ) continue;\n\t\t\t\tif (!this.colors[key]) {\n\t\t\t\t\tthis.setColor(key, this.getColor());\n\t\t\t\t}\n\t\t\t\tnextSectorStartAngle = this._drawSector(nextSectorStartAngle, (this.data[key] / total) * 100, key);\n\t\t\t}\n\n\t\t\tthis._drawLegend();\n\t\t}\n\t});\n\n\t// expose BarChart into the charts object\n\tcharts.Bar = BarChart;\n})( PIXICharts, PIXI );","(function( charts, PIXI ) {\r\n\tvar PieChart = function( config ) {\r\n\t\tPIXI.Container.call(this);\r\n\r\n\t\t// extend the config with default options\r\n\t\tthis.config = charts.extend(config || {}, {\r\n\t\t\twidth: 340,\r\n\t\t\theight: 200,\r\n\t\t\tautoRedraw: false,\r\n\t\t\tshowLabels: false,\r\n\t\t\tshowValues: true,\r\n\t\t\tlegend: true,\r\n\t\t\tfirstSectorAngle: 0,\r\n\t\t\tbackgroundColor: null,\r\n\t\t\tlegendPosition: 'right',\r\n\t\t\toffset: 10,\r\n\t\t\tchartTitle: null,\r\n\t\t\tlegendTitle: 'Legend:',\r\n\t\t\tlegendBackgroundColor: 0xAAAAAA,\r\n\t\t\tfont: 'Arial',\r\n\t\t\tvalueFormat: function(val) { return val; },\r\n\t\t\tlegendWidth: 40 // percents\r\n\t\t});\r\n\r\n\t\tthis.labels = {};\r\n\t\tthis.colors = {};\r\n\t\tthis.data = {};\r\n\r\n\t\t// calculate legend size\r\n\t\tif ( this.config.legend ) {\r\n\t\t\tthis.legendSize = {\r\n\t\t\t\twidth: this.config.width * (this.config.legendWidth / 100),\r\n\t\t\t\theight: this.config.height\r\n\t\t\t};\r\n\t\t} else { // if there's no legend - set size to 0x0\r\n\t\t\tthis.legendSize = {\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// auto radius calculation\r\n\t\tif (!this.config.radius) {\r\n\t\t\tthis.config.radius = (Math.min(this.config.width - this.legendSize.width, this.config.height) / 2) - this.config.offset;\r\n\t\t}\r\n\r\n\t\t// auto chart position\r\n\t\tif (!this.config.position) {\r\n\t\t\tthis.config.position = {\r\n\t\t\t\tx: (this.config.width - this.legendSize.width) / 2,\r\n\t\t\t\ty: this.config.height / 2\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// getColor util\r\n\t\tthis.getColor = charts.colors();\r\n\r\n\t\t// background element\r\n\t\tthis.background = this.addChild( new PIXI.Graphics() );\r\n\t\tthis.setBackgroundColor( this.config.backgroundColor );\r\n\r\n\t\t// chreate chart container\r\n\t\tthis.chartContainer = this.addChild(new PIXI.Container());\r\n\t\tthis.chart = this.chartContainer.addChild(new PIXI.Graphics);\r\n\r\n\t\tthis.tempChildren = [];\r\n\r\n\t\tif ( this.config.legend ) {\r\n\t\t\t// create legend container\r\n\t\t\tthis.legend = this.addChild( new PIXI.Container() );\r\n\r\n\t\t\t// set legend background\r\n\t\t\tif (this.config.legendBackgroundColor) {\r\n\t\t\t\tthis.legend.addChild(\r\n\t\t\t\t\tnew PIXI.Graphics()\r\n\t\t\t\t\t\t.beginFill(this.config.legendBackgroundColor)\r\n\t\t\t\t\t\t.drawRect(0, 0, this.legendSize.width, this.legendSize.height)\r\n\t\t\t\t\t\t.endFill()\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// reposition legend and chart\r\n\t\t\tif ( this.config.legendPosition == 'left' ) {\r\n\t\t\t\tthis.legend.position.set(0, 0);\r\n\t\t\t\tthis.chartContainer.position.set( this.legendSize.width, 0 );\r\n\t\t\t} else { // right\r\n\t\t\t\tthis.legend.position.set(this.config.width - this.legendSize.width, 0);\r\n\t\t\t\tthis.chartContainer.position.set( 0, 0 );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tPieChart.prototype = Object.create( PIXI.Container.prototype );\r\n\r\n\tcharts.extend(PieChart.prototype, {\r\n\t\t_angle: function( angle ) {\r\n\t\t\treturn (angle - 90) * PIXI.DEG_TO_RAD;\r\n\t\t},\r\n\r\n\t\t_drawSector: function( startAngle, percent, key ) {\r\n\t\t\tvar endAngle\t= 360 * (percent / 100) + startAngle,\r\n\t\t\t\tcenter \t\t= {\r\n\t\t\t\t\tx: this.config.position.x,\r\n\t\t\t\t\ty: this.config.position.y\r\n\t\t\t\t},\r\n\t\t\t\tradius\t\t= this.config.radius;\r\n\r\n\t\t\tvar labelPosition = {};\r\n\t\t\tvar middleAngle = (endAngle - startAngle) / 2 + startAngle;\r\n\t\t\tvar middleRadius = radius / 2;\r\n\r\n\t\t\tlabelPosition.x = center.x + middleRadius * Math.cos( this._angle(middleAngle) );\r\n\t\t\tlabelPosition.y = center.y + middleRadius * Math.sin( this._angle(middleAngle) );\r\n\r\n\t\t\tstartAngle = this._angle(startAngle);\r\n\r\n\t\t\tvar pointA = {\r\n\t\t\t\tx: center.x + radius * Math.cos( startAngle ),\r\n\t\t\t\ty: center.y + radius * Math.sin( startAngle )\r\n\t\t\t};\r\n\r\n\t\t\tthis.chart\r\n\t\t\t\t\t.beginFill(this.colors[key], 1)\r\n\t\t\t\t\t.moveTo(center.x, center.y)\r\n\t\t\t\t\t.lineTo(pointA.x, pointA.y)\r\n\t\t\t\t\t.arc(center.x, center.y, radius, startAngle, this._angle(endAngle), false )\r\n\t\t\t\t\t.lineTo(center.x, center.y)\r\n\t\t\t\t\t.endFill();\r\n\r\n\t\t\tthis._drawValue(key, labelPosition);\r\n\r\n\t\t\treturn endAngle;\r\n\t\t},\r\n\r\n\t\t// draws the value (if needed) at given point\r\n\t\t_drawValue: function( key, position ) {\r\n\t\t\tif (!this.config.showValues && !this.config.showLabels) return;\r\n\t\t\tvar textParts = [];\r\n\t\t\tif (this.config.showLabels) {\r\n\t\t\t\ttextParts.push( this.labels[key] ? this.labels[key] : key );\r\n\t\t\t}\r\n\t\t\tif (this.config.showValues) {\r\n\t\t\t\ttextParts.push( this.config.valueFormat(this.data[key]) );\r\n\t\t\t}\r\n\r\n\t\t\tvar text = new PIXI.Text( textParts.join(' '), {\r\n\t\t\t\tfont: '12px ' + this.config.font,\r\n\t\t\t\tfill: 0xFFFFFF\r\n\t\t\t});\r\n\r\n\t\t\tvar bgPadding = 5;\r\n\r\n\t\t\tvar background = new PIXI.Graphics()\r\n\t\t\t\t\t\t\t\t\t\t.beginFill(0x000000, 0.5)\r\n\t\t\t\t\t\t\t\t\t\t.drawRoundedRect(0, 0, text.width + bgPadding * 2, text.height + bgPadding * 2, 5)\r\n\t\t\t\t\t\t\t\t\t\t.endFill();\r\n\r\n\t\t\tthis.tempChildren.push(this.chartContainer.addChild(background));\r\n\t\t\tthis.tempChildren.push(this.chartContainer.addChild(text));\r\n\r\n\r\n\t\t\tposition.x = Math.round(position.x);\r\n\t\t\tposition.y = Math.round(position.y);\r\n\r\n\t\t\ttext.anchor.set(0.5, 0.5);\r\n\t\t\tbackground.position.set(position.x - text.width / 2 - bgPadding, position.y - text.height / 2 - bgPadding);\r\n\t\t\ttext.position.set(position.x, position.y);\r\n\t\t},\r\n\r\n\t\t_drawLegend: function() {\r\n\t\t\tif (!this.config.legend) return;\r\n\r\n\t\t\tvar title = this.legend.addChild(new PIXI.Text(this.config.legendTitle, {\r\n\t\t\t\tfont: '18px Arial'\r\n\t\t\t}));\r\n\r\n\t\t\tthis.tempChildren.push(title);\r\n\r\n\t\t\ttitle.anchor.set(0.5, 0);\r\n\t\t\ttitle.x = (this.config.width * (this.config.legendWidth/100)) / 2;\r\n\t\t\ttitle.y = this.config.offset;\r\n\r\n\t\t\tvar nextY = title.height + this.config.offset + 20;\r\n\r\n\t\t\tvar legendCircle, legendLabel;\r\n\r\n\t\t\tvar legendLabel = new PIXI.Text('', {\r\n\t\t\t\tfont: '12px ' + this.config.font\r\n\t\t\t});\r\n\r\n\t\t\tfor (var key in this.labels) {\r\n\t\t\t\tif ( !this.data.hasOwnProperty(key) ) continue;\r\n\r\n\t\t\t\tlegendCircle = new PIXI.Graphics()\r\n\t\t\t\t\t\t\t\t\t\t\t.beginFill( 0xFFFFFF )\r\n\t\t\t\t\t\t\t\t\t\t\t.drawCircle(0, 0, 9)\r\n\t\t\t\t\t\t\t\t\t\t\t.endFill()\r\n\t\t\t\t\t\t\t\t\t\t\t.beginFill( this.colors[key] )\r\n\t\t\t\t\t\t\t\t\t\t\t.drawCircle(0, 0, 8)\r\n\t\t\t\t\t\t\t\t\t\t\t.endFill();\r\n\r\n\t\t\t\tlegendLabel = new PIXI.Text(this.labels[key] || key, {\r\n\t\t\t\t\tfont: '12px ' + this.config.font\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.tempChildren.push(legendCircle);\r\n\t\t\t\tthis.tempChildren.push(legendLabel);\r\n\r\n\t\t\t\tlegendCircle.x = this.config.offset + 9;\r\n\t\t\t\tlegendCircle.y = nextY;\r\n\r\n\t\t\t\tlegendLabel.anchor.set(0, 0.5);\r\n\t\t\t\tlegendLabel.x = this.config.offset + 25;\r\n\t\t\t\tlegendLabel.y = nextY;\r\n\r\n\t\t\t\tnextY += 25;\r\n\r\n\t\t\t\tthis.legend.addChild(legendCircle);\r\n\t\t\t\tthis.legend.addChild(legendLabel);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetBackgroundColor: function( color ) {\r\n\t\t\tthis.background.clear();\r\n\t\t\tif (!color) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tthis.background\r\n\t\t\t\t\t.beginFill(color)\r\n\t\t\t\t\t.drawRect(0, 0, this.config.width, this.config.height)\r\n\t\t\t\t\t.endFill();\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetColor: function( key, color ) {\r\n\t\t\tthis.colors[ key ] = color;\r\n\t\t\tif ( this.config.autoRedraw ) {\r\n\t\t\t\tthis.redraw();\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetLabel: function( key, label ) {\r\n\t\t\tthis.labels[ key ] = label;\r\n\t\t\tif ( this.config.autoRedraw ) {\r\n\t\t\t\tthis.redraw();\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tsetData: function( key, value ) {\r\n\t\t\tthis.data[ key ] = value;\r\n\t\t\tif (!this.labels[key]) {\r\n\t\t\t\tthis.setLabel(key, key);\r\n\t\t\t}\r\n\t\t\tif ( this.config.autoRedraw ) {\r\n\t\t\t\tthis.redraw();\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tclear: function() {\r\n\t\t\tthis.tempChildren.forEach(function(child) {\r\n\t\t\t\tif (child.parent) {\r\n\t\t\t\t\tchild.parent.removeChild(child);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.tempChildren = [];\r\n\t\t\tthis.chart.clear();\r\n\t\t},\r\n\r\n\t\tredraw: function() {\r\n\t\t\tthis.clear();\r\n\r\n\t\t\tvar total = 0,\r\n\t\t\t\tnextSectorStartAngle = this.config.firstSectorAngle;\r\n\r\n\t\t\tfor (var key in this.data) {\r\n\t\t\t\tif ( !this.data.hasOwnProperty(key) ) continue;\r\n\t\t\t\ttotal += this.data[key];\r\n\t\t\t}\r\n\r\n\t\t\tfor (var key in this.data) {\r\n\t\t\t\tif ( !this.data.hasOwnProperty(key) ) continue;\r\n\t\t\t\tif (!this.colors[key]) {\r\n\t\t\t\t\tthis.setColor(key, this.getColor());\r\n\t\t\t\t}\r\n\t\t\t\tnextSectorStartAngle = this._drawSector(nextSectorStartAngle, (this.data[key] / total) * 100, key);\r\n\t\t\t}\r\n\r\n\t\t\tthis._drawLegend();\r\n\t\t}\r\n\t});\r\n\r\n\t// expose PieChart into the charts object\r\n\tcharts.Pie = PieChart;\r\n})( PIXICharts, PIXI );"]}